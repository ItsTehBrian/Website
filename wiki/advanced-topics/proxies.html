<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Proxies | Javacord</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon-96x96.png">
    <meta name="description" content="The Javacord website">
    <link rel="preload" href="/assets/css/0.styles.0565e78b.css" as="style"><link rel="preload" href="/assets/js/app.bb531e0e.js" as="script"><link rel="preload" href="/assets/js/2.6c0291b0.js" as="script"><link rel="preload" href="/assets/js/16.967daba6.js" as="script"><link rel="prefetch" href="/assets/js/10.56597a7d.js"><link rel="prefetch" href="/assets/js/11.b696315b.js"><link rel="prefetch" href="/assets/js/12.100866af.js"><link rel="prefetch" href="/assets/js/13.b4f988dd.js"><link rel="prefetch" href="/assets/js/14.27888872.js"><link rel="prefetch" href="/assets/js/15.1d48c9d7.js"><link rel="prefetch" href="/assets/js/17.16a19006.js"><link rel="prefetch" href="/assets/js/18.9385c20b.js"><link rel="prefetch" href="/assets/js/19.f9c7a2aa.js"><link rel="prefetch" href="/assets/js/20.a8bd4815.js"><link rel="prefetch" href="/assets/js/21.49328101.js"><link rel="prefetch" href="/assets/js/22.881e0599.js"><link rel="prefetch" href="/assets/js/23.8166e7c9.js"><link rel="prefetch" href="/assets/js/24.0ac41ac1.js"><link rel="prefetch" href="/assets/js/25.47490bc0.js"><link rel="prefetch" href="/assets/js/26.47b311cb.js"><link rel="prefetch" href="/assets/js/27.5f0a61ab.js"><link rel="prefetch" href="/assets/js/28.19daa5b6.js"><link rel="prefetch" href="/assets/js/29.ed370a1b.js"><link rel="prefetch" href="/assets/js/3.9c4dcd3b.js"><link rel="prefetch" href="/assets/js/30.9689a52d.js"><link rel="prefetch" href="/assets/js/31.2b8a571b.js"><link rel="prefetch" href="/assets/js/32.3d8f67c3.js"><link rel="prefetch" href="/assets/js/4.4a55ffb4.js"><link rel="prefetch" href="/assets/js/5.01f46bd6.js"><link rel="prefetch" href="/assets/js/6.0aaa7b78.js"><link rel="prefetch" href="/assets/js/7.d2986bc5.js"><link rel="prefetch" href="/assets/js/8.2c313e5f.js"><link rel="prefetch" href="/assets/js/9.7ed1f434.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0565e78b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Javacord</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="https://docs.javacord.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaDocs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://discord.gg/0qJ2jjyneLEgG7y3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord Server
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Javacord/Javacord" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Legal" class="dropdown-title"><span class="title">Legal</span> <span class="arrow down"></span></button> <button type="button" aria-label="Legal" class="mobile-dropdown-title"><span class="title">Legal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/imprint.html" class="nav-link">
  Imprint
</a></li><li class="dropdown-item"><!----> <a href="/privacy-policy.html" class="nav-link">
  Privacy Policy
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="https://docs.javacord.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaDocs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://discord.gg/0qJ2jjyneLEgG7y3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord Server
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Javacord/Javacord" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Legal" class="dropdown-title"><span class="title">Legal</span> <span class="arrow down"></span></button> <button type="button" aria-label="Legal" class="mobile-dropdown-title"><span class="title">Legal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/imprint.html" class="nav-link">
  Imprint
</a></li><li class="dropdown-item"><!----> <a href="/privacy-policy.html" class="nav-link">
  Privacy Policy
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/" aria-current="page" class="sidebar-link">Intro</a></li><li><a href="/wiki/getting-started/download-installation.html" class="sidebar-link">Download / Installation</a></li><li><a href="/wiki/getting-started/creating-a-bot-account.html" class="sidebar-link">Creating a Bot Account</a></li><li><a href="/wiki/getting-started/writing-your-first-bot.html" class="sidebar-link">Writing your first bot</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Beginner IDE Setup</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Basic Tutorials</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/basic-tutorials/listeners.html" class="sidebar-link">Listeners</a></li><li><a href="/wiki/basic-tutorials/embeds.html" class="sidebar-link">Embeds</a></li><li><a href="/wiki/basic-tutorials/emojis-and-reactions.html" class="sidebar-link">Emojis and Reactions</a></li><li><a href="/wiki/basic-tutorials/message-builder.html" class="sidebar-link">Using the MessageBuilder</a></li><li><a href="/wiki/basic-tutorials/creating-entities.html" class="sidebar-link">Creating Channels, Invites, etc.</a></li><li><a href="/wiki/basic-tutorials/logger-config.html" class="sidebar-link">Logger Configuration</a></li><li><a href="/wiki/basic-tutorials/glossary.html" class="sidebar-link">Glossary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced Topics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/advanced-topics/bot-lifecycle.html" class="sidebar-link">Bot Lifecycle</a></li><li><a href="/wiki/advanced-topics/entity-cache.html" class="sidebar-link">Entity Cache</a></li><li><a href="/wiki/advanced-topics/playing-audio.html" class="sidebar-link">Playing Audio</a></li><li><a href="/wiki/advanced-topics/ratelimits.html" class="sidebar-link">Ratelimits</a></li><li><a href="/wiki/advanced-topics/sharding.html" class="sidebar-link">Sharding</a></li><li><a href="/wiki/advanced-topics/performance-tweaks.html" class="sidebar-link">Performance Tweaks</a></li><li><a href="/wiki/advanced-topics/proxies.html" aria-current="page" class="active sidebar-link">Proxies</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/advanced-topics/proxies.html#configuring-a-proxy" class="sidebar-link">👨‍💻 Configuring a Proxy ...</a></li><li class="sidebar-sub-header"><a href="/wiki/advanced-topics/proxies.html#configuring-proxy-authentication" class="sidebar-link">🔑 Configuring Proxy Authentication ...</a></li><li class="sidebar-sub-header"><a href="/wiki/advanced-topics/proxies.html#proxy-types" class="sidebar-link">💡 Proxy Types</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Essential Knowledge</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/essential-knowledge/lambdas.html" class="sidebar-link">Lambdas</a></li><li><a href="/wiki/essential-knowledge/optionals.html" class="sidebar-link">Optionals</a></li><li><a href="/wiki/essential-knowledge/completable-futures.html" class="sidebar-link">Completable Futures</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="proxies"><a href="#proxies" class="header-anchor">#</a> Proxies</h1> <p>There are basically two kinds of proxies: HTTP proxies and SOCKS proxies. Both may or may not support or require authentication depending on version, capabilities, and configuration. Due to the underlying libraries used, currently, Javacord fully supports HTTP proxies and partially supports SOCKS proxies.</p> <p>Javacord uses HTTPS connections to communicate with the Discord REST API and a WSS connection to communicate with the Discord WebSocket endpoint. Both these protocols are secure protocols and thus do not honor settings for HTTP connections, only settings for HTTPS connections.</p> <h2 id="configuring-a-proxy"><a href="#configuring-a-proxy" class="header-anchor">#</a> 👨‍💻 Configuring a Proxy ...</h2> <h3 id="using-system-properties"><a href="#using-system-properties" class="header-anchor">#</a> ... using System Properties</h3> <p>If you did not explicitly set a proxy in the <code>DiscordApiBuilder</code> and did not set a system default <code>ProxySelector</code>, the default proxy selector of the JRE is used. This proxy selector honors, amongst others, the relevant standard system properties <code>https.proxyHost</code>, <code>https.proxyPort</code>, <code>socksProxyHost</code>, <code>socksProxyPort</code>, and <code>socksProxyVersion</code>. Use the former two to configure an HTTP proxy or the latter three to configure a SOCKS proxy although you will not need <code>socksProxyVersion</code>, as SOCKS4 is currently not supported.</p> <h3 id="using-a-system-default-proxy-selector"><a href="#using-a-system-default-proxy-selector" class="header-anchor">#</a> ... using a System Default Proxy Selector</h3> <p>You can use <code>java.net.ProxySelector.setDefault(ProxySelector)</code> to set a system default proxy selector that replaces the default one. In its implementation, you can dynamically determine which proxy to use for each connection.</p> <h3 id="using-an-explicitly-set-proxy"><a href="#using-an-explicitly-set-proxy" class="header-anchor">#</a> ... using an Explicitly Set Proxy</h3> <p>Using the method <code>DiscordApiBuilder.setProxy(Proxy)</code> you can set a proxy instance directly in the <code>DiscordApiBuilder</code> that is solely used for Javacord connections and does not affect the unrelated code running in the JVM.</p> <h3 id="using-an-explicitly-set-proxy-selector"><a href="#using-an-explicitly-set-proxy-selector" class="header-anchor">#</a> ... using an Explicitly Set Proxy Selector</h3> <p>Using the method <code>DiscordApiBuilder.setProxySelector(ProxySelector)</code> you can set a proxy selector instance directly in the <code>DiscordApiBuilder</code> that is solely used for Javacord connections and does not affect the remaining code running in the JVM. In its implementation, you can dynamically determine which proxy to use for each connection.</p> <h3 id="precedence-of-the-configuration-options"><a href="#precedence-of-the-configuration-options" class="header-anchor">#</a> Precedence of the Configuration Options</h3> <ul><li>if an explicit proxy is set, it is used</li> <li>if an explicit proxy selector is set, it is used</li> <li>if both an explicit proxy and an explicit proxy selector are set, this is a configuration error and will cause an exception to be thrown</li> <li>if neither explicit option is set, the system default proxy selector is used</li> <li>if no system default proxy selector was explicitly set, the JRE default that honors the system properties is used</li></ul> <h2 id="configuring-proxy-authentication"><a href="#configuring-proxy-authentication" class="header-anchor">#</a> 🔑 Configuring Proxy Authentication ...</h2> <h3 id="using-a-system-default-authenticator"><a href="#using-a-system-default-authenticator" class="header-anchor">#</a> ... using a System Default Authenticator</h3> <p>You can use <code>java.net.Authenticator.setDefault(Authenticator)</code> to set a system default authenticator that is used to provide username and password pairs for connections. This authenticator is only used if the proxy supports the <code>Basic</code> authentication scheme. If you need to support any other authentication scheme, use an explicitly configured authenticator. The <code>java.net.Authenticator</code> interface is too inflexible to support this.</p> <h3 id="using-an-explicitly-set-authenticator"><a href="#using-an-explicitly-set-authenticator" class="header-anchor">#</a> ... using an Explicitly Set Authenticator</h3> <p>Using the method <code>DiscordApiBuilder.setProxyAuthenticator(Authenticator)</code>, you can set a custom authenticator that is much more powerful than the <code>java.net.Authenticator</code>. You get much more information about the connection to be established, and you can return any HTTP header that is necessary for a successful authentication. This should cover all sorts of available authentication mechanisms.</p> <h2 id="proxy-types"><a href="#proxy-types" class="header-anchor">#</a> 💡 Proxy Types</h2> <h3 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h3> <p>HTTP proxies are fully supported.</p> <h3 id="socks-4"><a href="#socks-4" class="header-anchor">#</a> SOCKS 4</h3> <p>SOCKS 4 is currently not supported.</p> <p>The WebSocket library we use does not support SOCKS proxies at all and the HTTP library we use has a bug that prevents SOCKS 4 to be used. Additionally, you would need to use at least Java 9 or a separate socket factory supporting SOCKS 4, as the JRE implementation is not working in Java 8 and got fixed only in Java 9+.</p> <h3 id="socks-4a"><a href="#socks-4a" class="header-anchor">#</a> SOCKS 4a</h3> <p>SOCKS 4a is currently only partially supported.</p> <p>The WebSocket library we use does not support SOCKS proxies at all, so it could be used for the REST connections only. Additionally, you would need to use a separate socket factory supporting SOCKS 4a, as the JRE implementation is not capable of doing SOCKS 4a, only SOCKS 4 and SOCKS 5 are supported at the time of creation of this wiki article.</p> <h3 id="socks-5"><a href="#socks-5" class="header-anchor">#</a> SOCKS 5</h3> <p>SOCKS 5 is currently only partially supported.</p> <p>The WebSocket library we use does not support SOCKS proxies at all, so it could be used for the REST connections only.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Javacord/Website/edit/master/docs/wiki/advanced-topics/proxies.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wiki/advanced-topics/performance-tweaks.html" class="prev">
        Performance Tweaks
      </a></span> <span class="next"><a href="/wiki/essential-knowledge/lambdas.html">
        Lambdas
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bb531e0e.js" defer></script><script src="/assets/js/2.6c0291b0.js" defer></script><script src="/assets/js/16.967daba6.js" defer></script>
  </body>
</html>
